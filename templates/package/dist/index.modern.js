// TypeIt by Alex MacArthur - https://typeitjs.com
const e=[null,null,{}];var t=(e,t)=>Object.assign({},e,t),n=e=>Array.from(e),r=e=>{let t=document.implementation.createHTMLDocument();return t.body.innerHTML=e,t.body};const i=(e,t=null,r=!1)=>{let a=n(e.childNodes).flatMap(e=>{return 3===(t=e).nodeType||"BR"===t.tagName?e:i(e);var t});return t&&(a=a.filter(e=>!t.contains(e))),r?a.reverse():a},a=(e,t=null)=>({node:t,content:e});function l(e){let t=r(e);return i(t).flatMap(e=>e.nodeValue?n(e.nodeValue).map(t=>a(t,e)):a(e))}function o(e,t=!0){return t?l(e):n(e).map(e=>a(e))}var s=e=>document.createElement(e),u=e=>document.createTextNode(e),c=(e,t="")=>{let n=s("style");n.id=t,n.appendChild(u(e)),document.head.appendChild(n)},d=e=>Array.isArray(e);const f=e=>Number.isInteger(e),h=(e,t=document,n=!1)=>t["querySelector"+(n?"All":"")](e),m={started:!1,completed:!1,frozen:!1,destroyed:!1},p={breakLines:!0,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}};var y=({el:e,move:t,cursorPos:n,to:r})=>f(t)?-1*t:((e,t,n="START")=>{let r=new RegExp("END","i").test(n),a=h(".ti-cursor",t),l=e?h(e,t):t,o=i(l,a,!0),s=o[0],u=o[o.length-1],c=r&&!e?0:i(t,a,!0).findIndex(e=>e.isSameNode(r?s:u));return r&&c--,c+1})(t,e,r)-n,g=e=>(d(e)||(e=[e/2,e/2]),e),v=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t));let b=e=>e/2;var w=e=>"value"in e;const S=e=>"function"==typeof e?e():e;var N=e=>"BODY"===e.tagName;const M=(e,t)=>{let r=n(h("*",t,!0));return[t].concat(r.reverse()).find(t=>t.cloneNode().isEqualNode(e.cloneNode()))},T=(e,t,n,r)=>{let a=t.content instanceof HTMLElement,l=t.node,o=null==l?void 0:l.parentNode,s=a?t.content:u(t.content);if(w(e))return void(e.value=`${e.value}${t.content}`);if(!a&&o&&!N(o)){let r=M(o,e);if(r&&((e,t)=>{let n=e.nextSibling;return!n||n.isEqualNode(t)})(r,n))e=r;else{s=o.cloneNode(),s.appendChild(u(t.content));let n=o.parentNode,r=n.cloneNode();if(!N(n)){let t=M(r,e);for(;!t&&!N(n);){let i=r;i.innerHTML=s.outerHTML,s=i,n=n.parentNode,r=n.cloneNode(),t=M(r,e)}e=t||e}}}let c=i(e,n,!0)[r-1],d=c?c.parentNode:e;d.insertBefore(s,d.contains(n)?n:null)};var L=e=>e&&e.remove();const D={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"","margin-left":"-.125em","margin-right":".125em"};function E(u,N={}){const M=async(e,t,n=!1)=>{G.frozen&&await new Promise(e=>{this.unfreeze=()=>{G.frozen=!1,e()}}),n||await J.beforeStep(this),await(async(e,t,n)=>new Promise(r=>{n.push(setTimeout(async()=>{await e(),r()},t))}))(e,t,Q),n||await J.afterStep(this)},E=()=>w(j),x=e=>function(e){let{speed:t,deleteSpeed:n,lifeLike:r}=e;return n=null!==n?n:t/3,r?[v(t,b(t)),v(n,b(n))]:[t,n]}(J)[e],$=(e,t=0)=>e?x(t):0,C=(e,t)=>(W.add(e),((e={})=>{let t=e.delay;t&&W.add([[B,t]])})(t),this),H=()=>(e=>w(e)?n(e.value):i(e,h(".ti-cursor",e),!0))(j),z=(e={})=>[[P,e],[P,J]],k=e=>{let t=J.nextStringDelay;W.add([[B,t[0]],...e,[B,t[1]]])},R=e=>{X&&(Z.classList.toggle("disabled",e),Z.classList.toggle("with-delay",!e))},A=async()=>{G.started=!0;let e=W.getItems();try{for(let t=0;t<e.length;t++){let n=e[t],r=n[2];r.freezeCursor&&R(!0),await n[0].call(this,n[1],r),W.setMeta(t,{executed:!0}),R(!1)}if(G.completed=!0,await J.afterComplete(this),!J.loop)throw"";let t=J.loopDelay;M(async()=>{await(async e=>{Y&&await I({value:Y}),W.reset(),W.set(0,[B,e,{}]),await q({num:null})})(t[0]),A()},t[1])}catch(e){}return this},B=(e=0)=>M(()=>{},e),I=async({value:e,to:t="START",instant:n=!1})=>{let r=y({el:j,move:e,cursorPos:Y,to:t}),i=()=>{var e,t,n;e=r<0?-1:1,t=Y,n=H(),Y=Math.min(Math.max(t+e,0),n.length),((e,t,n,r)=>{let i=t[r-1];(e=(null==i?void 0:i.parentNode)||e).insertBefore(n,i||null)})(j,H(),Z,Y)};await M(async()=>{for(let e=0;e<Math.abs(r);e++)n?i():await M(i,x(0))},$(n))},O=({chars:e,instant:t,silent:n})=>M(async()=>{const r=e=>T(j,e,Z,Y);n||await J.beforeString(e,this);for(let n=0;n<e.length;n++)t?r(e[n]):await M(()=>{r(e[n])},x(0));n||await J.afterString(e,this)},$(t),!0),P=async e=>{J=t(J,e)},V=async()=>{E()?j.value="":H().forEach(e=>{L(e)})},q=async({num:e=null,instant:t=!1,to:n="START"})=>{await M(async()=>{let r=f(e)?e:y({el:j,move:e,cursorPos:Y,to:n});const i=()=>{let e=H();var t;e.length&&(E()?j.value=j.value.slice(0,-1):(L(e[Y]),t=Z,h("*",j,!0).forEach(e=>{if(!e.innerHTML&&"BR"!==e.tagName&&!e.isSameNode(t)){let t=e;for(;1===t.parentElement.childNodes.length;)t=t.parentElement;L(t)}})))};for(let e=0;e<r;e++)t?i():await M(i,x(1))},$(t,1)),null===e&&H().length-1>0&&await q({num:null})};this.break=function(e){const t=a(s("BR"));return C([[O,{chars:[t],silent:!0}]],e)},this.delete=function(e=null,t={}){e=S(e);let n=z(t),r=e,{instant:i,to:a}=t;return C([n[0],[q,{num:r,instant:i,to:a},F],n[1]],t)},this.empty=function(e={}){return C([[V]],e)},this.exec=function(e,t){let n=z(t);return C([n[0],[e,null],n[1]],t)},this.move=function(e,t={}){e=S(e);let n=z(t),{instant:r,to:i}=t;return C([n[0],[I,{value:null===e?"":e,to:i,instant:r},F],n[1]],t)},this.options=function(e){return e=S(e),C([[P,e]],e)},this.pause=function(e,t={}){return C([[B,S(e)]],t)},this.type=function(e,t={}){e=S(e);let n=z(t),r=o(e,J.html),{instant:i}=t;return C([n[0],[O,{chars:r,instant:i},F],n[1]],t)},this.is=function(e){return G[e]},this.destroy=function(e=!0){Q.forEach(e=>clearTimeout(e)),Q=[],S(e)&&L(Z),G.destroyed=!0},this.freeze=function(){G.frozen=!0},this.unfreeze=function(){},this.reset=function(){!this.is("destroyed")&&this.destroy(),W.reset(),Y=0;for(let e in G)G[e]=!1;return j[E()?"value":"innerHTML"]="",this},this.go=function(){return G.started?this:((async()=>{!E()&&j.appendChild(Z),X&&((e,t,n)=>{let r=`[data-typeit-id='${e}'] .ti-cursor`,i=getComputedStyle(n),a=Object.entries(D).reduce((e,[t,n])=>`${e} ${t}: var(--ti-${t}, ${n||i[t]});`,"");c(`@keyframes blink-${e} { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } ${r} { display: inline; letter-spacing: -1em; ${a} animation: blink-${e} ${t.cursorSpeed/1e3}s infinite; } ${r}.with-delay { animation-delay: 500ms; } ${r}.disabled { animation: none; }`,e)})(K,J,j)})(),J.waitUntilVisible?(((e,t)=>{new IntersectionObserver((n,r)=>{n.forEach(n=>{n.isIntersecting&&(t(),r.unobserve(e))})},{threshold:1}).observe(e)})(j,A.bind(this)),this):(A(),this))},this.getQueue=function(){return W},this.getOptions=function(){return J},this.getElement=function(){return j};let j="string"==typeof(U=u)?h(U):U;var U;let Q=[],Y=0,F={freezeCursor:!0},G=t({},m),J=t(p,N);J=t(J,{html:!E()&&J.html,nextStringDelay:g(J.nextStringDelay),loopDelay:g(J.loopDelay)});let K=Math.random().toString().substring(2,9),W=function(n){const r=function(t){return i=i.concat(t.map(t=>e.map((e,n)=>t[n]?t[n]:e))),this};let i=[];return r(n),{add:r,set:function(e,t){i[e]=t},reset:function(){i=i.map(e=>(e[2].executed=!1,e))},getItems:function(){return i.filter(e=>!e[2].executed)},setMeta:function(e,n){i[e][2]=t(i[e][2],n)}}}([[B,J.startDelay]]);j.dataset.typeitId=K,c("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}");let X=J.cursor&&!E(),Z=(()=>{if(E())return;let e=s("span");return e.className="ti-cursor",X?(e.innerHTML=r(J.cursorChar).innerHTML,e):(e.style.visibility="hidden",e)})();var _;J.strings=(e=>{let t=j.innerHTML;return t?(j.innerHTML="",J.startDelete?(l(t).forEach(e=>{T(j,e,Z,Y)}),k([[q,{num:null}]]),e):t.trim().split(/<br(?:\s*?)(?:\/)?>/).concat(e)):e})(d(_=J.strings)?_:[_]),J.strings.length&&(()=>{let e=J.strings.filter(e=>!!e);e.forEach((t,n)=>{let r=o(t,J.html);if(W.add([[O,{chars:r},F]]),n+1===e.length)return;const i=J.breakLines?[[O,{chars:[a(s("BR"))],silent:!0},F]]:[[q,{num:r.length},F]];k(i)})})()}export{E as default};
